{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mredis: Failed to clear rate limit data: setImmediate is not defined\u001b[39m","stack":"ReferenceError: setImmediate is not defined\n    at Console.log (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/winston/lib/winston/transports/console.js:53:5)\n    at Console._write (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Console.Object.<anonymous>.Writable.write (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at DerivedLogger.ondata (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_readable.js:629:20)\n    at DerivedLogger.emit (node:events:519:35)\n    at addChunk (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_readable.js:279:12)\n    at readableAddChunk (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_readable.js:262:11)\n    at DerivedLogger.Object.<anonymous>.Readable.push (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_readable.js:228:10)\n    at DerivedLogger.Object.<anonymous>.Transform.push (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_transform.js:132:32)\n    at DerivedLogger._transform (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/winston/lib/winston/logger.js:337:12)\n    at DerivedLogger.Object.<anonymous>.Transform._read (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at DerivedLogger.Object.<anonymous>.Transform._write (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at DerivedLogger.Object.<anonymous>.Writable.write (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at DerivedLogger.log (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/winston/lib/winston/logger.js:276:14)\n    at DerivedLogger.<computed> [as error] (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/winston/lib/winston/create-logger.js:95:19)\n    at Object.error (/Users/azumag/work/JSMKC/jsmkc-app/src/lib/logger.ts:73:14)\n    at Class.error (/Users/azumag/work/JSMKC/jsmkc-app/src/lib/redis-rate-limit.ts:16:11)\n    at Class.emit (node:events:507:28)\n    at RedisSocket.<anonymous> (/Users/azumag/work/JSMKC/node_modules/@redis/client/lib/client/index.ts:796:12)\n    at RedisSocket.emit (node:events:507:28)\n    at RedisSocket.#connect (/Users/azumag/work/JSMKC/node_modules/@redis/client/lib/client/socket.ts:246:14)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Class.connect (/Users/azumag/work/JSMKC/node_modules/@redis/client/lib/client/index.ts:961:5)\n    at getRedisClient (/Users/azumag/work/JSMKC/jsmkc-app/src/lib/redis-rate-limit.ts:23:5)\n    at clearRateLimitData (/Users/azumag/work/JSMKC/jsmkc-app/src/lib/redis-rate-limit.ts:113:20)\n    at clearRateLimitStore (/Users/azumag/work/JSMKC/jsmkc-app/src/lib/rate-limit.ts:44:3)","timestamp":"2026-01-21 15:51:58:5158"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31merror-handling: Database error in test context:\u001b[39m","timestamp":"2026-01-21 15:51:58:5158"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31merror-handling: Database error in test context:\u001b[39m","timestamp":"2026-01-21 15:51:58:5158"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31merror-handling: Database error in test context:\u001b[39m","timestamp":"2026-01-21 15:51:59:5159"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31merror-handling: Database error in test context:\u001b[39m","timestamp":"2026-01-21 15:51:59:5159"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31merror-handling: Database error in players endpoint:\u001b[39m","timestamp":"2026-01-21 15:51:59:5159"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mredis-cache: Cache get failed for key cache:standings:tournament-1:finals: setImmediate is not defined\u001b[39m","stack":"ReferenceError: setImmediate is not defined\n    at Console.log (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/winston/lib/winston/transports/console.js:53:5)\n    at Console._write (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at Console.Object.<anonymous>.Writable.write (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at DerivedLogger.ondata (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_readable.js:629:20)\n    at DerivedLogger.emit (node:events:519:35)\n    at addChunk (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_readable.js:279:12)\n    at readableAddChunk (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_readable.js:262:11)\n    at DerivedLogger.Object.<anonymous>.Readable.push (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_readable.js:228:10)\n    at DerivedLogger.Object.<anonymous>.Transform.push (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_transform.js:132:32)\n    at DerivedLogger._transform (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/winston/lib/winston/logger.js:337:12)\n    at DerivedLogger.Object.<anonymous>.Transform._read (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_transform.js:166:10)\n    at DerivedLogger.Object.<anonymous>.Transform._write (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_transform.js:155:83)\n    at doWrite (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_writable.js:390:139)\n    at writeOrBuffer (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_writable.js:381:5)\n    at DerivedLogger.Object.<anonymous>.Writable.write (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/readable-stream/lib/_stream_writable.js:302:11)\n    at DerivedLogger.log (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/winston/lib/winston/logger.js:276:14)\n    at DerivedLogger.<computed> [as error] (/Users/azumag/work/JSMKC/jsmkc-app/node_modules/winston/lib/winston/create-logger.js:95:19)\n    at Object.error (/Users/azumag/work/JSMKC/jsmkc-app/src/lib/logger.ts:86:20)\n    at Class.<anonymous> (/Users/azumag/work/JSMKC/jsmkc-app/src/lib/redis-cache.ts:60:17)\n    at Class.emit (node:events:507:28)\n    at RedisSocket.<anonymous> (/Users/azumag/work/JSMKC/node_modules/@redis/client/lib/client/index.ts:796:12)\n    at RedisSocket.emit (node:events:507:28)\n    at RedisSocket.#connect (/Users/azumag/work/JSMKC/node_modules/@redis/client/lib/client/socket.ts:246:14)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Class.connect (/Users/azumag/work/JSMKC/node_modules/@redis/client/lib/client/index.ts:961:5)\n    at getRedisClient (/Users/azumag/work/JSMKC/jsmkc-app/src/lib/redis-cache.ts:65:9)\n    at getCache (/Users/azumag/work/JSMKC/jsmkc-app/src/lib/redis-cache.ts:73:24)\n    at getStandingsCache (/Users/azumag/work/JSMKC/jsmkc-app/src/lib/redis-cache.ts:133:12)\n    at get (/Users/azumag/work/JSMKC/jsmkc-app/src/lib/standings-cache.ts:48:23)","timestamp":"2026-01-21 15:52:00:520"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31merror-handling: Database error in test context:\u001b[39m","timestamp":"2026-01-21 15:57:10:5710"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31merror-handling: Database error in test context:\u001b[39m","timestamp":"2026-01-21 15:57:10:5710"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31merror-handling: Database error in test context:\u001b[39m","timestamp":"2026-01-21 15:57:10:5710"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31merror-handling: Database error in test context:\u001b[39m","timestamp":"2026-01-21 15:57:10:5710"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31merror-handling: Database error in players endpoint:\u001b[39m","timestamp":"2026-01-21 15:57:10:5710"}
